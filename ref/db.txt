psql reviewext -U postgres -P phdcs2014

// release_dates: l,l,l,l
// start_date: the day first review was crawled. (1420095600000 = first of jan 2015)
// day_index: index of the last day in timeseries. All review from this day to the past had been processed
CREATE TABLE apps(
   appid	TEXT PRIMARY KEY  NOT NULL,
   name		TEXT    NOT NULL,
   count	BIGINT NOT NULL,
   release_dates TEXT,
   start_date BIGINT,
   day_index INT
);

// cleansed_text: i,i,i;i,i,i,i,i;i,i,i,i
CREATE TABLE reviews(
   reviewid			TEXT PRIMARY KEY NOT NULL,
   appid			TEXT	references apps(appid),
   title			TEXT,
   raw_text			TEXT,
   cleansed_text	TEXT,
   document_version	TEXT,
   device			TEXT,
   rating			INT 	NOT NULL,
   creation_time	BIGINT 	NOT NULL,
   UNIQUE (appid, reviewid)
);

// ratex_byday: i,i,i,i,i,i,i
// POS: pos,i;pos,i;pos,i
CREATE TABLE keywords(
   ID			SERIAL PRIMARY KEY NOT NULL,
   appid		TEXT references apps(appid),
   keyword		TEXT,
   rate1_byday	TEXT,
   rate2_byday	TEXT,
   rate3_byday	TEXT,
   rate4_byday	TEXT,
   rate5_byday	TEXT,
   POS			TEXT,
   UNIQUE (appid, keyword)
);

CREATE TABLE review_keyword(
   ID			INT PRIMARY KEY NOT NULL,
   reviewid		INT	references reviews(ID),
   keywordid	INT	references keywords(ID),
   tf			INT,
   UNIQUE (reviewid, keywordid)
);

CREATE TABLE word2vec(
   ID			INT PRIMARY KEY NOT NULL,
   keywordid		INT	references keywords(ID),
   vector		REAL[],
   UNIQUE (keywordid)
);